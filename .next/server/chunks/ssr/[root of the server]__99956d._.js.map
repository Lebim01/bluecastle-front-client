{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file://C%3A/develop/dota-front-client/src/configs/firebaseConfig.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAzeXkQmYLdoOkgfgaSsyP0hCMECKEpXd8\",\r\n  authDomain: \"dota-dd5dd.firebaseapp.com\",\r\n  projectId: \"dota-dd5dd\",\r\n  storageBucket: \"dota-dd5dd.firebasestorage.app\",\r\n  messagingSenderId: \"1039762081728\",\r\n  appId: \"1:1039762081728:web:9fa3cc4bbe01afb97b2a25\",\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app, \"(default)\");\r\nexport const analytics = getAnalytics(app);\r\nexport const storageBucket = getStorage(app);\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAGO,MAAM,MAAM,CAAA,GAAA,8HAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,OAAO,CAAA,GAAA,gIAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,0IAAA,CAAA,eAAY,AAAD,EAAE,KAAK;AAC7B,MAAM,YAAY,CAAA,GAAA,0IAAA,CAAA,eAAY,AAAD,EAAE;AAC/B,MAAM,gBAAgB,CAAA,GAAA,sIAAA,CAAA,aAAU,AAAD,EAAE"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file://C%3A/develop/dota-front-client/src/services/SupportTickets.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { db } from \"@/configs/firebaseConfig\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  doc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\n\r\nexport async function addNewTicket(\r\n  values: any,\r\n  user_id: string,\r\n  username: string\r\n) {\r\n  try {\r\n    const docRef = collection(db, \"tickets\");\r\n    const newTopic = await addDoc(docRef, {\r\n      created_at: new Date(),\r\n      topic: values?.topic,\r\n      description: values?.description,\r\n      user_id,\r\n      username,\r\n      status: \"opened\",\r\n    });\r\n    if (newTopic) {\r\n      const chatRef = collection(db, \"tickets\", newTopic.id, \"conversation\");\r\n      await addDoc(chatRef, {\r\n        created_at: new Date(),\r\n        text: values?.description,\r\n        images: [],\r\n        user_id,\r\n        username,\r\n      });\r\n    }\r\n    return { status: true, id: newTopic.id };\r\n  } catch (error) {\r\n    console.error(\"fallo al agregar el ticket\", error);\r\n    return { status: false, id: \"\" };\r\n  }\r\n}\r\n\r\nexport async function sendMessage(values: any) {\r\n  try {\r\n    const chatRef = collection(db, \"tickets\", values.id, \"conversation\");\r\n    await addDoc(chatRef, {\r\n      created_at: new Date(),\r\n      text: values?.description,\r\n      images: [],\r\n      user_id: values.user_id,\r\n      username: values.username,\r\n      unread: true,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"fallo al enviar el mensaje\", error);\r\n  }\r\n}\r\n\r\nexport async function readMessage(values: any) {\r\n  const chatRef = collection(db, \"tickets\", values.id, \"conversation\");\r\n  const q = query(\r\n    chatRef,\r\n    where(\"user_id\", \"!=\", values.user_id),\r\n    where(\"unread\", \"==\", true)\r\n  );\r\n  const chats_unread = await getDocs(q);\r\n  if (!chats_unread.empty) {\r\n    await Promise.all(\r\n      chats_unread.docs.map(async (chat) => {\r\n        const chatUnreadRef = doc(\r\n          db,\r\n          \"tickets\",\r\n          values.id,\r\n          \"conversation\",\r\n          chat.id\r\n        );\r\n        await updateDoc(chatUnreadRef, {\r\n          unread: false,\r\n        });\r\n      })\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;;AACrD;AACA;;;;;;;;AAUO,eAAe,aACpB,MAAW,EACX,OAAe,EACf,QAAgB;IAEhB,IAAI;QACF,MAAM,SAAS,CAAA,GAAA,0IAAA,CAAA,aAAU,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE;QAC9B,MAAM,WAAW,MAAM,CAAA,GAAA,0IAAA,CAAA,SAAM,AAAD,EAAE,QAAQ;YACpC,YAAY,IAAI;YAChB,OAAO,QAAQ;YACf,aAAa,QAAQ;YACrB;YACA;YACA,QAAQ;QACV;QACA,IAAI,UAAU;YACZ,MAAM,UAAU,CAAA,GAAA,0IAAA,CAAA,aAAU,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,WAAW,SAAS,EAAE,EAAE;YACvD,MAAM,CAAA,GAAA,0IAAA,CAAA,SAAM,AAAD,EAAE,SAAS;gBACpB,YAAY,IAAI;gBAChB,MAAM,QAAQ;gBACd,QAAQ,EAAE;gBACV;gBACA;YACF;QACF;QACA,OAAO;YAAE,QAAQ;YAAM,IAAI,SAAS,EAAE;QAAC;IACzC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;YAAE,QAAQ;YAAO,IAAI;QAAG;IACjC;AACF;AAEO,eAAe,YAAY,MAAW;IAC3C,IAAI;QACF,MAAM,UAAU,CAAA,GAAA,0IAAA,CAAA,aAAU,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,WAAW,OAAO,EAAE,EAAE;QACrD,MAAM,CAAA,GAAA,0IAAA,CAAA,SAAM,AAAD,EAAE,SAAS;YACpB,YAAY,IAAI;YAChB,MAAM,QAAQ;YACd,QAAQ,EAAE;YACV,SAAS,OAAO,OAAO;YACvB,UAAU,OAAO,QAAQ;YACzB,QAAQ;QACV;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;IAC9C;AACF;AAEO,eAAe,YAAY,MAAW;IAC3C,MAAM,UAAU,CAAA,GAAA,0IAAA,CAAA,aAAU,AAAD,EAAE,yHAAA,CAAA,KAAE,EAAE,WAAW,OAAO,EAAE,EAAE;IACrD,MAAM,IAAI,CAAA,GAAA,0IAAA,CAAA,QAAK,AAAD,EACZ,SACA,CAAA,GAAA,0IAAA,CAAA,QAAK,AAAD,EAAE,WAAW,MAAM,OAAO,OAAO,GACrC,CAAA,GAAA,0IAAA,CAAA,QAAK,AAAD,EAAE,UAAU,MAAM;IAExB,MAAM,eAAe,MAAM,CAAA,GAAA,0IAAA,CAAA,UAAO,AAAD,EAAE;IACnC,IAAI,CAAC,aAAa,KAAK,EAAE;QACvB,MAAM,QAAQ,GAAG,CACf,aAAa,IAAI,CAAC,GAAG,CAAC,OAAO;YAC3B,MAAM,gBAAgB,CAAA,GAAA,0IAAA,CAAA,MAAG,AAAD,EACtB,yHAAA,CAAA,KAAE,EACF,WACA,OAAO,EAAE,EACT,gBACA,KAAK,EAAE;YAET,MAAM,CAAA,GAAA,0IAAA,CAAA,YAAS,AAAD,EAAE,eAAe;gBAC7B,QAAQ;YACV;QACF;IAEJ;AACF"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file://C%3A/develop/dota-front-client/src/components/views/support/newform.tsx"],"sourcesContent":["import { addNewTicket } from \"@/services/SupportTickets\";\r\nimport { Button, Form, Input } from \"@heroui/react\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { FC, FormEvent, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport * as Yup from \"yup\";\r\n\r\ntype Props = {\r\n  onClose: (status: boolean) => void;\r\n};\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  topic: Yup.string().required(\"Por favor introduzca el titulo del ticket\"),\r\n  description: Yup.string().required(\r\n    \"Por favor introduzca una descripci√≥n de su problema\"\r\n  ),\r\n});\r\n\r\nconst FormTopic: FC<Props> = ({ onClose }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const { data } = useSession();\r\n  const router = useRouter();\r\n  const [errors, setErrores] = useState<any>({});\r\n  const i18n = useTranslation()\r\n  const onSubmit = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    try {\r\n      const values = Object.fromEntries(new FormData(e.currentTarget));\r\n      const validation = validationSchema.validateSync(values);\r\n\r\n      try {\r\n        if (!data?.user || !data?.user?.id) return;\r\n\r\n        setLoading(true);\r\n        const { status, id } = await addNewTicket(\r\n          values,\r\n          data.user.id,\r\n          data.user.name,\r\n        );\r\n\r\n        if (status) {\r\n          router.push(`/support/${id}`);\r\n        }\r\n        (e.target as HTMLFormElement).reset();\r\n        setLoading(false);\r\n        onClose(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setLoading(false);\r\n      }\r\n    } catch (err: any) {\r\n      console.log({\r\n        value: err.value,\r\n        path: err.path,\r\n        type: err.type,\r\n        params: err.params,\r\n        errores: err.errors,\r\n        inner: err.inner,\r\n        name: err.name,\r\n        message: err.message,\r\n      });\r\n      setErrores({\r\n        [err.path]: err.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-[600px] w-full bg-card p-4 rounded-card\">\r\n      <Form className=\"flex flex-col gap-4\" onSubmit={onSubmit}>\r\n        <Input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          name=\"topic\"\r\n          label={i18n.t('faq.title')}\r\n          placeholder={i18n.t('faq.issue_title')}\r\n          errorMessage={errors.topic}\r\n          isInvalid={errors.topic}\r\n          onKeyDown={() => {}}\r\n        />\r\n\r\n        <Input\r\n          label={i18n.t('faq.description')}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          name=\"description\"\r\n          placeholder={i18n.t('faq.issue_description')}\r\n          errorMessage={errors.description}\r\n          isInvalid={errors.description}\r\n          onKeyDown={() => {}}\r\n        />\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          isLoading={loading}\r\n          color=\"primary\"\r\n          className=\"font-bold\"\r\n        >\r\n          {i18n.t('faq.open_new_ticket')}\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormTopic;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AAMA,MAAM,mBAAmB,gGAAI,MAAM,GAAG,KAAK,CAAC;IAC1C,OAAO,gGAAI,MAAM,GAAG,QAAQ,CAAC;IAC7B,aAAa,gGAAI,MAAM,GAAG,QAAQ,CAChC;AAEJ;AAEA,MAAM,YAAuB,CAAC,EAAE,OAAO,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD;IAC1B,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,QAAQ,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAO,CAAC;IAC5C,MAAM,OAAO,CAAA,GAAA,gIAAA,CAAA,iBAAc,AAAD;IAC1B,MAAM,WAAW,OAAO;QACtB,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,SAAS,OAAO,WAAW,CAAC,IAAI,SAAS,EAAE,aAAa;YAC9D,MAAM,aAAa,iBAAiB,YAAY,CAAC;YAEjD,IAAI;gBACF,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,MAAM,IAAI;gBAEpC,WAAW;gBACX,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,CAAA,GAAA,0HAAA,CAAA,eAAY,AAAD,EACtC,QACA,KAAK,IAAI,CAAC,EAAE,EACZ,KAAK,IAAI,CAAC,IAAI;gBAGhB,IAAI,QAAQ;oBACV,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,IAAI;gBAC9B;gBACC,EAAE,MAAM,CAAqB,KAAK;gBACnC,WAAW;gBACX,QAAQ;YACV,EAAE,OAAO,OAAO;gBACd,QAAQ,GAAG,CAAC;gBACZ,WAAW;YACb;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,GAAG,CAAC;gBACV,OAAO,IAAI,KAAK;gBAChB,MAAM,IAAI,IAAI;gBACd,MAAM,IAAI,IAAI;gBACd,QAAQ,IAAI,MAAM;gBAClB,SAAS,IAAI,MAAM;gBACnB,OAAO,IAAI,KAAK;gBAChB,MAAM,IAAI,IAAI;gBACd,SAAS,IAAI,OAAO;YACtB;YACA,WAAW;gBACT,CAAC,IAAI,IAAI,CAAC,EAAE,IAAI,OAAO;YACzB;QACF;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC,kIAAA,CAAA,OAAI;YAAC,WAAU;YAAsB,UAAU;;8BAC9C,qKAAC,kIAAA,CAAA,QAAK;oBACJ,MAAK;oBACL,cAAa;oBACb,MAAK;oBACL,OAAO,KAAK,CAAC,CAAC;oBACd,aAAa,KAAK,CAAC,CAAC;oBACpB,cAAc,OAAO,KAAK;oBAC1B,WAAW,OAAO,KAAK;oBACvB,WAAW,KAAO;;;;;;8BAGpB,qKAAC,kIAAA,CAAA,QAAK;oBACJ,OAAO,KAAK,CAAC,CAAC;oBACd,MAAK;oBACL,cAAa;oBACb,MAAK;oBACL,aAAa,KAAK,CAAC,CAAC;oBACpB,cAAc,OAAO,WAAW;oBAChC,WAAW,OAAO,WAAW;oBAC7B,WAAW,KAAO;;;;;;8BAGpB,qKAAC,kIAAA,CAAA,SAAM;oBACL,MAAK;oBACL,WAAW;oBACX,OAAM;oBACN,WAAU;8BAET,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;AAKlB;uCAEe"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}