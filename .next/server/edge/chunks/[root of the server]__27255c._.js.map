{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/services/index.ts"],"sourcesContent":["import axios from \"axios\";\r\naxios.defaults.baseURL = process.env.NEXT_PUBLIC_URL_API;\r\n\r\nconst BASE_URL = process.env.NEXT_PUBLIC_URL_API;\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport default axiosInstance;\r\n"],"names":[],"mappings":";;;AAAA;;AACA,qIAAA,CAAA,UAAK,CAAC,QAAQ,CAAC,OAAO;AAEtB,MAAM;AAEN,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACjC,SAAS;AACX;uCAEe"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/services/user.ts"],"sourcesContent":["import { UserProfile } from \"@/types/next-auth\";\r\nimport axiosInstance from \".\";\r\n\r\nexport type Credencials = {\r\n  password: string;\r\n};\r\n\r\nexport type SignUp = {\r\n  firstName?: string;\r\n  lastName?: string;\r\n  fullName: string;\r\n  email: string;\r\n  profile_img?: string;\r\n  password: string;\r\n  password_confirmation: string;\r\n};\r\n\r\nexport type SignUpSocial = {\r\n  firstName?: string;\r\n  lastName?: string;\r\n  fullName: string;\r\n  email: string;\r\n  profile_img?: string;\r\n  password: string;\r\n  password_confirmation: string;\r\n  socialID: string;\r\n  socialMetadata: string;\r\n};\r\n\r\nexport interface ProfileWithToken extends UserProfile {\r\n  accessToken: string;\r\n}\r\n\r\nexport const login = async (email: string, password: string) => {\r\n  return axiosInstance\r\n    .post(\"/auth/login\", {\r\n      email,\r\n      password,\r\n    })\r\n    .then((r) => {\r\n      return r.data;\r\n    });\r\n};\r\n\r\nexport const signUp = async (profile: SignUp) => {\r\n  return axiosInstance\r\n    .post(\"/auth/register\", {\r\n      email: profile.email,\r\n      password: profile.password,\r\n      name: profile.firstName,\r\n      lastname: profile.lastName,\r\n    })\r\n    .then((r) => r.data);\r\n};\r\n\r\nexport const signUpSocial = async (profile: SignUpSocial) => {\r\n  return axiosInstance\r\n    .post(\"/auth/register/social\", {\r\n      email: profile.email,\r\n      password: profile.password,\r\n      name: profile.firstName,\r\n      lastname: profile.lastName,\r\n      profile_img: profile.profile_img,\r\n      socialID: profile.socialID,\r\n      socialMetadata: profile.socialMetadata,\r\n    })\r\n    .then((r) => r.data)\r\n    .catch((err) => {\r\n      console.log(err.response.data);\r\n    });\r\n};\r\n\r\nexport const existsByEmail = async (\r\n  email: string\r\n): Promise<{ accessToken: string } | false> => {\r\n  return axiosInstance\r\n    .post(\"/auth/exists-email\", {\r\n      email,\r\n    })\r\n    .then((r) => {\r\n      if (r.data == false) {\r\n        throw new Error(\"exists\");\r\n      }\r\n      return r.data;\r\n    });\r\n};\r\n\r\nexport const authMe = async (\r\n  token: string\r\n): Promise<ProfileWithToken | null> => {\r\n  return axiosInstance\r\n    .get(\"/users/me\", { headers: { Authorization: `Bearer ${token}` } })\r\n    .then((r) => ({ ...r.data, accessToken: token }))\r\n    .catch(() => null);\r\n};\r\n\r\nexport const updateUser = async (user: Partial<UserProfile>) => {\r\n  return axiosInstance.patch(\"/auth/update\", user).then((r) => r.data);\r\n};\r\n\r\nexport const updatePassword = async (password: string) => {\r\n  return axiosInstance.post(\"users/update/password\", {\r\n    password,\r\n  });\r\n};\r\n\r\nexport const recoverPassword = async ({\r\n  email,\r\n  password,\r\n  otp,\r\n}: {\r\n  email: string;\r\n  password: string;\r\n  otp?: string;\r\n}) => {\r\n  return axiosInstance.post(\"users/recover/password\", {\r\n    email,\r\n    password,\r\n    otp,\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AACA;;AAgCO,MAAM,QAAQ,OAAO,OAAe;IACzC,OAAO,wHAAA,CAAA,UAAa,CACjB,IAAI,CAAC,eAAe;QACnB;QACA;IACF,GACC,IAAI,CAAC,CAAC;QACL,OAAO,EAAE,IAAI;IACf;AACJ;AAEO,MAAM,SAAS,OAAO;IAC3B,OAAO,wHAAA,CAAA,UAAa,CACjB,IAAI,CAAC,kBAAkB;QACtB,OAAO,QAAQ,KAAK;QACpB,UAAU,QAAQ,QAAQ;QAC1B,MAAM,QAAQ,SAAS;QACvB,UAAU,QAAQ,QAAQ;IAC5B,GACC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI;AACvB;AAEO,MAAM,eAAe,OAAO;IACjC,OAAO,wHAAA,CAAA,UAAa,CACjB,IAAI,CAAC,yBAAyB;QAC7B,OAAO,QAAQ,KAAK;QACpB,UAAU,QAAQ,QAAQ;QAC1B,MAAM,QAAQ,SAAS;QACvB,UAAU,QAAQ,QAAQ;QAC1B,aAAa,QAAQ,WAAW;QAChC,UAAU,QAAQ,QAAQ;QAC1B,gBAAgB,QAAQ,cAAc;IACxC,GACC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,EAClB,KAAK,CAAC,CAAC;QACN,QAAQ,GAAG,CAAC,IAAI,QAAQ,CAAC,IAAI;IAC/B;AACJ;AAEO,MAAM,gBAAgB,OAC3B;IAEA,OAAO,wHAAA,CAAA,UAAa,CACjB,IAAI,CAAC,sBAAsB;QAC1B;IACF,GACC,IAAI,CAAC,CAAC;QACL,IAAI,EAAE,IAAI,IAAI,OAAO;YACnB,MAAM,IAAI,MAAM;QAClB;QACA,OAAO,EAAE,IAAI;IACf;AACJ;AAEO,MAAM,SAAS,OACpB;IAEA,OAAO,wHAAA,CAAA,UAAa,CACjB,GAAG,CAAC,aAAa;QAAE,SAAS;YAAE,eAAe,CAAC,OAAO,EAAE,OAAO;QAAC;IAAE,GACjE,IAAI,CAAC,CAAC,IAAM,CAAC;YAAE,GAAG,EAAE,IAAI;YAAE,aAAa;QAAM,CAAC,GAC9C,KAAK,CAAC,IAAM;AACjB;AAEO,MAAM,aAAa,OAAO;IAC/B,OAAO,wHAAA,CAAA,UAAa,CAAC,KAAK,CAAC,gBAAgB,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI;AACrE;AAEO,MAAM,iBAAiB,OAAO;IACnC,OAAO,wHAAA,CAAA,UAAa,CAAC,IAAI,CAAC,yBAAyB;QACjD;IACF;AACF;AAEO,MAAM,kBAAkB,OAAO,EACpC,KAAK,EACL,QAAQ,EACR,GAAG,EAKJ;IACC,OAAO,wHAAA,CAAA,UAAa,CAAC,IAAI,CAAC,0BAA0B;QAClD;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport type { NextRequest } from \"next/server\";\r\nimport { getToken } from \"next-auth/jwt\";\r\nimport { authMe } from \"./services/user\";\r\n\r\nexport async function middleware(req: NextRequest) {\r\n  const token = await getToken({ req, secret: process.env.NEXTAUTH_SECRET });\r\n  if (token) {\r\n    if (req.nextUrl.pathname == \"/login\") {\r\n      await authMe(token.accessToken);\r\n      return NextResponse.redirect(new URL(\"/\", req.url));\r\n    }\r\n  } else {\r\n    const isPublicRoute =\r\n      req.nextUrl.pathname.startsWith(\"/img\") ||\r\n      req.nextUrl.pathname.startsWith(\"/public\") ||\r\n      req.nextUrl.pathname.startsWith(\"/forgot_password\");\r\n    const isLogin = req.nextUrl.pathname == \"/login\";\r\n    const isSignup = req.nextUrl.pathname.startsWith(\"/signup/\");\r\n    const isLanding = req.nextUrl.pathname.startsWith(\"/landing\");\r\n    if (!isPublicRoute && !isSignup && !isLogin && !isLanding) {\r\n      if (req.nextUrl.pathname == \"/\")\r\n        return NextResponse.redirect(new URL(\"/landing\", req.url));\r\n      else return NextResponse.redirect(new URL(\"/login\", req.url));\r\n    }\r\n  }\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\"/((?!api|_next/static|_next/image|favicon.ico|.*.mp4).*)\"],\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AAHA;;;;AAKO,eAAe,WAAW,GAAgB;IAC/C,MAAM,QAAQ,MAAM,CAAA,GAAA,4IAAA,CAAA,WAAQ,AAAD,EAAE;QAAE;QAAK,QAAQ,QAAQ,GAAG,CAAC,eAAe;IAAC;IACxE,IAAI,OAAO;QACT,IAAI,IAAI,OAAO,CAAC,QAAQ,IAAI,UAAU;YACpC,MAAM,CAAA,GAAA,uHAAA,CAAA,SAAM,AAAD,EAAE,MAAM,WAAW;YAC9B,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,IAAI,GAAG;QACnD;IACF,OAAO;QACL,MAAM,gBACJ,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,WAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,cAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;QAClC,MAAM,UAAU,IAAI,OAAO,CAAC,QAAQ,IAAI;QACxC,MAAM,WAAW,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;QACjD,MAAM,YAAY,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;QAClD,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,WAAW,CAAC,WAAW;YACzD,IAAI,IAAI,OAAO,CAAC,QAAQ,IAAI,KAC1B,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,YAAY,IAAI,GAAG;iBACrD,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,GAAG;QAC7D;IACF;AACF;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAA2D;AACvE"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}